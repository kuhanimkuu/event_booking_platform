{% extends 'base.html' %}
{% block title %}Book Tickets{% endblock %}

{% block content %}
<div class="max-w-xl mx-auto mt-10 bg-white p-6 rounded-2xl shadow">
    <h2 class="text-2xl font-bold text-pink-600 mb-4">
        <p class="text-4xl text-center font-bold text-pink-600 my-6 mb-30">Book Ticket for</p>
        <p class="text-center"> {{ event.title }} event </p>
    </h2>

    <form method="post" class="space-y-6">
        {% csrf_token %}

        <!-- Ticket Type Selection -->
        <div class="space-y-4">
            <p class="text-lg font-semibold text-gray-700 text-center mb-2">Select Ticket Type:</p>
            {% for ticket in tickets %}
            <label class="block border rounded-xl p-4 cursor-pointer hover:border-pink-500 transition
                          {% if forloop.first %}border-pink-500{% else %}border-gray-300{% endif %}">
                <input type="radio" name="ticket_type" value="{{ ticket.id }}" required class="mr-2">
                <span class="text-pink-600 font-bold">{{ ticket.get_type_display }}</span> - 
                <span class="text-gray-800">KES {{ ticket.price }}</span>
                <span class="text-sm text-gray-500 ml-2">(Available: {{ ticket.remaining_quantity }})</span>
            </label>
            {% endfor %}
        </div>

        <!-- Quantity -->
        <div class="text-center">
            <label for="quantity" class="block text-sm font-medium text-gray-700 mb-1">Quantity</label>
            <input type="number" name="quantity" value="1" min="1"
                   class="w-24 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:outline-none">
        </div>

        <!-- Payment Method -->
        <div>
            <label for="method" class="block text-sm font-medium text-gray-700 mb-1">Payment Method</label>
            <select name="method"
                    class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-pink-500 focus:outline-none">
                <option value="mpesa">M-Pesa</option>
                <option value="card">Card</option>
                <option value="paypal">PayPal</option>
            </select>
        </div>

        <!-- Submit Button -->
        <button type="submit"
                class="w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white font-semibold py-2 px-4 rounded-xl shadow-md hover:from-pink-600 hover:to-purple-700 transition">
            üéüÔ∏è Confirm Booking
        </button>
    </form>
</div>
{% endblock %}
